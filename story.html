<!doctype html>
<html lang="zh">
<head>
	<meta charset="UTF-8" />
	<title>故事 - 國立臺灣交響樂團解謎互動遊戲</title>
	<meta name="keywords" content="{關鍵字}" />
	<meta name="description" content="{描述}" >
	<!-- facebook meta start -->
	<meta property="og:site_name" content="國立臺灣交響樂團解謎互動遊戲" /><!-- 請pm協助進行定義 注意要與<description>相同 -->
	<meta property="og:type" content="website" >
	<meta property="og:image" content="style/images/fb/fb.jpg" /><!-- 請程式設計師注意路徑問題 -->
	<meta property="og:url" content="{這裡}" /><!-- 請程式設計師注意路徑問題 -->
	<meta property="og:title" content="國立臺灣交響樂團解謎互動遊戲" /><!-- 請pm協助進行定義 注意要與<title>相同 -->
	<meta property="og:description" content="{描述}" /><!-- 請pm協助進行定義 注意要與<description>相同 -->
	<!-- facebook meta end -->
	<!-- 網頁顯示的寬度等於裝置寬度 -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<!-- ios 不自動偵測電話 -->
	<meta name="format-detection" content="telephone=no">
	<!--apple-touch-icon-->
	<link href="style/images/ios/apple-touch-icon.png" rel="apple-touch-icon" />
	<link href="style/images/ios/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57" />
	<link href="style/images/ios/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72" />
	<link href="style/images/ios/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76" />
	<link href="style/images/ios/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114" />
	<link href="style/images/ios/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120" />
	<link href="style/images/ios/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144" />
	<link href="style/images/ios/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152" />
	<link href="style/images/ios/apple-touch-icon-180x180.png" rel="apple-touch-icon" sizes="180x180" />
	<!--android-touch-icon-->
	<link href="style/images/android/icon-hires.png" rel="icon" sizes="192x192" />
	<link href="style/images/android/icon-normal.png" rel="icon" sizes="128x128" />
	<!--favicon-->
	<link rel="shortcut icon" href="style/images/favicon.ico">
	<!-- css link file start -->
	<!-- CSS Link File Start -->
	<link media="screen" rel="stylesheet" href="style/css/main.css?t=20201112v1" />
	<!-- CSS 模組樣式  -->
	<link media="screen" rel="stylesheet" href="style/css/pg_story.css?t=20201112v1" />
	<!-- CSS page樣式  -->
	<!-- CSS Link File End -->
</head>
<body>
	<div class="wrap">
		<div class="wrap__bg"></div>
		<div class="logo">
			<a class="logo__link" href="index.html" title="國立臺灣交響樂團解謎互動遊戲">
				<img class="logo__img" src="style/images/events/elements/logo.svg" alt="國立臺灣交響樂團解謎互動遊戲">
			</a>
		</div>
		<!-- 選單 -->
		<div class="menu">
			<div class="menu__inner">
				<a class="menu__trigger" href="#" title="選單">
					<img src="style/images/events/elements/menu-icon.png" alt="選單">
				</a>
				<ul class="menu__list">
					<li class="menu__item">
						<a href="room.html" class="menu__link">Room</a>
					</li>
					<li class="menu__item">
						<a href="story.html" class="menu__link">Story</a>
					</li>
					<li class="menu__item">
						<a href="instruction.html" class="menu__link">Instruction</a>
					</li>
					<li class="menu__item">
						<a href="contact.html" class="menu__link">Contact</a>
					</li>
				</ul>
			</div>
		</div>

		<div class="wrap__inner">
			<div class="book">
				<picture>
					<source media="(min-width: 1024px)" srcset="style/images/events/elements/p3-book.png">
					<img class="book__img" src="style/images/events/elements/p3-book-m.png" alt="日記本">
				</picture>
			</div>
			<div class="row">
				<div class="col-12 dialog">
					<div class="dialog__inner">
						<div class="dialog__text">我在哪裡...我是誰...</div>
						<div class="dialog__text">全都想不起來</div>
						<div class="dialog__text">誰可以幫助我......</div>
					</div>
				</div>
				<div class="col-12 col-lg-6 sheet">
					<div class="sheet__bg">
						<div class="text-indent">這本日記好熟悉...這是...我的日記？</div>
						<div class="text-indent">但日記內容好像有不少殘缺，</div>
						<div class="text-indent">可以請你們幫我「修復日記」嗎？</div>
						<div class="text-indent">從第一頁開始，</div>
						<div class="text-indent">裡面寫好像是一些音樂家的故事...</div>
						<div class="text-indent">難道我是個音樂家？</div>
						<div class="text-indent">如果真的能將日記修復好，</div>
						<div class="text-indent">或許我能想起一些事情...</div>
						<picture>
							<source media="(min-width: 1024px)" srcset="style/images/events/elements/p3-paper.png">
							<img src="style/images/events/elements/p3-paper-m.png" alt="書頁">
						</picture>
					</div>
					<a href="instruction.html" class="btn sheet__btn" title="Instruction">
						<img src="style/images/events/elements/p3-btn.png" alt="Instruction">
					</a>
				</div>
			</div>
		</div>
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
	<script src="style/js/scroll_animate.js"></script>
	<script src="style/js/anime.min.js"></script>
	<script src="style/js/lodash.min.js"></script>
	<script>
		var index = 0,
		 	item_old = null,
		 	item_new = null,
			createTimer = null,
			animation = null;
		$(function(){
			setTimeout(function() {
				animateText();
				countDown();
			}, 800);
		})
		.on("click", ".menu__trigger", function(event){
			event.preventDefault();
			var menu  = $(".menu");
			menu.toggleClass("menu--active")
		});

		function countDown() {
			if (index < $(".dialog__text").length-1) {
				createTimer = setTimeout(function () {
					index++;
					animateText();
					countDown();
				}, 2200);
			}
		}
		function animateText() {
			if (item_old) item_old.css("display", "none");
			item_new = $(".dialog__text").eq(index);
			animation = anime({
				targets: item_new[0],
				opacity: [0, 1],
				translateY: [5, 0],
				duration: 250,
				easing: "linear",
				begin: function(anim) {
					item_new.css("display", "block")
				},
				complete: function(anim) {
					if (index < $(".dialog__text").length-1) {
						item_old = $(".dialog__text").eq(index);
					} else {
						setTimeout(function() {
							toStory();
						}, 2200);
					}
				}
			});
		}
		function toStory() {
			$(".wrap").addClass("wrap--animation-less");
			anime.timeline({})
				.add({
					targets: ".wrap__bg",
					opacity: [1, 0],
					duration: 1500,
					easing: "linear",
					complete: function(anim) {
						$(".wrap").addClass("wrap--story");
					}
				})
				.add({
					targets: ".dialog",
					opacity: [1, 0],
					duration: 1500,
					easing: "linear"
				}, "-=1500")
				.add({
					targets: ".wrap__bg",
					opacity: [0, 1],
					scale: [1.2, 1],
					duration: 1500,
					easing: "linear",
					complete: function(anim) {}
				})
				.add({
					targets: ".book",
					opacity: [0, 1],
					translateY: [-30, 0],
					duration: 1000,
					easing: "easeInOutQuad",
					complete: function(anim) {

					}
				})
				.add({
					targets: ".sheet",
					opacity: [0, 1],
					translateY: [-30, 0],
					duration: 1000,
					easing: "easeInOutQuad",
					complete: function(anim) {

					}
				}, "-=600")
				.add({
					targets: ".sheet__btn",
					opacity: [0, 1],
					translateY: [-15, 0],
					duration: 500,
					easing: "linear",
					complete: function(anim) {

					}
				}, "-=400");

		}
	</script>
	<!-- 程式說明 -上線前請移除 End-->
</body>
</html>